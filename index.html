<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>VK One Tap Login</title>
  <script type="text/javascript" src="https://vk.com/js/api/openapi.js?169"></script>
</head>
<body>
  <h1>VK One Tap Login</h1>

  <div id="vk_auth"></div>

  <script type="text/javascript">
    // üîë –ü–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–π ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    const VK_APP_ID = 53969710;

    VK.init({
      apiId: VK_APP_ID
    });

    VK.Widgets.Auth("vk_auth", {
      onAuth: function(user) {
        // –ó–¥–µ—Å—å –ø–æ–ª—É—á–∞–µ–º id, –∏–º—è –∏ —Ç.–¥.
        console.log("VK user:", user);
        alert(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.first_name}!`);

        // TODO: –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å user info –Ω–∞ backend –∏–ª–∏ –≤ localStorage
        // –∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–±–±–∏:
        // window.location.href = "/lobby.html"
      }
    });
  </script>
</body>
</html>
