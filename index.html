<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>GG ROOM</title>
  <meta name="color-scheme" content="dark light"/>

  <style>
    :root{
      --bg:#0b0f16;
      --card:#0e121a;
      --gold:#e8d08a;
      --vk:#1e73e6;
      --tg:#4ea6e6;
      --text:#f4f4f4;

      /* ЕДИНАЯ внутренняя ширина контента (кнопки + постер) */
      --contentW: clamp(520px, 86vw, 720px);

      /* базовая высота больших кнопок */
      --btnH: 72px;
    }

    *,*::before,*::after{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "SF Pro Display",
                   "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(1200px 700px at 50% -200px, #101624 0%, #0b1018 55%, #070b11 100%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      text-rendering: optimizeLegibility;
    }

    header{
      text-align:center;
      padding:18px 16px 6px;
      color:var(--gold);
      letter-spacing:.08em;
      font-weight:800;
      font-size:clamp(16px, 1.6vw, 18px);
    }

    .wrap{
      max-width: calc(var(--contentW) + 56px); /* учёт внутренних паддингов карточки */
      margin: 0 auto;
      padding: 28px 16px 64px;
    }

    .card{
      margin: 12px auto 36px;
      background: radial-gradient(120% 120% at 30% -40%, #171e2a 0%, #0f141d 55%, #0b0f16 100%);
      border:1px solid rgba(232,208,138,.28);
      border-radius: 18px;
      box-shadow:
        0 0 0 1px rgba(232,208,138,.08) inset,
        0 18px 70px rgba(0,0,0,.55),
        0 0 64px rgba(232,208,138,.06);
      padding: 28px;
    }

    /* ВНУТРЕННЯЯ СЕТКА КАРТОЧКИ — держим единую ширину */
    .inner {
      width: var(--contentW);
      max-width: 100%;
      margin: 0 auto;
    }

    h1{
      margin: 0 0 44px; /* увеличенный отступ сверху до VK-кнопки */
      text-align:left;
      color:var(--gold);
      font-weight:900;
      font-size: clamp(22px, 3.4vw, 38px);
      line-height:1.15;
      letter-spacing:.02em;
      text-shadow: 0 2px 0 rgba(0,0,0,.14);
    }

    /* Колонка кнопок: одинаковая ширина с постером, выравнивание влево */
    .btncol{
      width:100%;
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:14px;
      margin-bottom: 18px;
    }

    /* Общие параметры «толстой» кнопки */
    .btn{
      width:100%;
      height:var(--btnH);
      border-radius: calc(var(--btnH) / 2);
      display:flex;
      align-items:center;
      gap:16px;
      padding:0 20px 0 16px;
      color:#fff;
      font-weight:800;
      font-size: clamp(15px, 1.25vw, 18px);
      text-align:left;
      box-shadow:
        0 1px 0 rgba(255,255,255,.22) inset,
        0 -1px 0 rgba(0,0,0,.25) inset,
        0 14px 36px rgba(0,0,0,.22);
      transition: transform .06s ease, filter .2s ease;
    }
    .btn:hover{ filter:brightness(1.03); transform: translateY(-1px); }
    .btn:active{ transform: translateY(0); filter:brightness(.98); }

    /* VK */
    .btn-vk{
      background: var(--vk);
      box-shadow:
        0 1px 0 rgba(255,255,255,.24) inset,
        0 -1px 0 rgba(0,0,0,.25) inset,
        0 14px 36px rgba(30,115,230,.28);
    }
    .vk-ico{
      width:44px; height:44px; flex:0 0 44px;
      border-radius:12px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.14);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.18);
    }
    .vk-ico img{ width:26px; height:26px; display:block; }

    /* Telegram */
    .tg-wrap{
      width:100%;
      height:var(--btnH);
      border-radius: calc(var(--btnH) / 2);
      overflow:hidden;     /* не даём реальной кнопке торчать на мобилках */
      background: var(--tg);
      box-shadow:
        0 1px 0 rgba(255,255,255,.24) inset,
        0 -1px 0 rgba(0,0,0,.25) inset,
        0 14px 36px rgba(78,166,230,.25);
    }
    .tg-wrap iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }

    /* Бейджи */
    .badges{
      display:flex;
      gap:12px;
      flex-wrap:nowrap;
      justify-content:center;
      margin: 10px 0 0; /* расстояние от TG-кнопки уменьшено примерно на 30% */
      user-select:none;
    }
    .badge{
      border:1px solid rgba(232,208,138,.26);
      color:#e8d08a;
      font-weight:600;
      font-size: clamp(12px, 1.25vw, 14px);
      padding: 10px 18px;
      border-radius: 28px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.14));
      box-shadow: 0 8px 26px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
    }

    /* Постер строго той же ширины */
    .poster{
      width:100%;
      margin: 22px 0 0;
      border-radius: 14px;
      box-shadow:
        0 12px 90px rgba(0,0,0,.55),
        0 0 0 1px rgba(255,255,255,.04) inset;
      overflow:hidden;
    }
    .poster img{ width:100%; height:auto; display:block; }

    /* Узкие экраны — немного уменьшаем высоту, чтобы не вылезало за рамку */
    @media (max-width: 420px){
      :root{ --btnH: 68px; }
      .vk-ico{ width:40px; height:40px; }
      .vk-ico img{ width:24px; height:24px; }
    }
  </style>
</head>
<body>
  <header>GG ROOM</header>

  <main class="wrap">
    <section class="card">
      <div class="inner">
        <h1>Войдите и начните выигрывать!</h1>

        <div class="btncol">
          <!-- VK: одинаковая высота с TG; иконка увеличена -->
          <button class="btn btn-vk" id="vkLoginBtn" type="button" aria-label="Войти через VK ID">
            <span class="vk-ico">
              <!-- ФАЙЛ должен лежать рядом с index.html, имя в нижнем регистре -->
              <img src="vk-logo.svg" alt="VK">
            </span>
            <span>Войти через VK ID</span>
          </button>

          <!-- Telegram: родной виджет в «рамке» фиксированной высоты -->
          <div class="tg-wrap" id="tgLoginWrap"></div>
        </div>

        <div class="badges">
          <div class="badge">Розыгрыши</div>
          <div class="badge">Гарантии призов</div>
          <div class="badge">Турниры 24/7</div>
        </div>

        <div class="poster" aria-hidden="true">
          <picture>
            <source
              type="image/webp"
              srcset="
                assets/prize-chest-500w.webp 500w,
                assets/prize-chest-700w.webp 700w,
                assets/prize-chest-900w.webp 900w"
              sizes="(max-width: 600px) 92vw, var(--contentW)" />
            <img
              src="assets/prize-chest-700w.png"
              srcset="
                assets/prize-chest-500w.png 500w,
                assets/prize-chest-700w.png 700w,
                assets/prize-chest-900w.png 900w"
              sizes="(max-width: 600px) 92vw, var(--contentW)"
              alt="Призовой сундук ₽1.000.000" loading="lazy" decoding="async" />
          </picture>
        </div>
      </div>
    </section>
  </main>

  <script>
    const BASE_API = 'https://vercel2pr.onrender.com';

    // VK: специально используем прямой редирект на бек — Render покажет “Service waking up…”
    document.getElementById('vkLoginBtn').addEventListener('click', () => {
      window.location.href = BASE_API + '/api/auth/vk/start';
    });

    // Telegram login widget (кнопка остаётся внутри нашей рамки одинаковой ширины)
    (function mountTelegramWidget(){
      const wrap = document.getElementById('tgLoginWrap');
      const s = document.createElement('script');
      s.async = true;
      s.src = 'https://telegram.org/js/telegram-widget.js?22';
      s.setAttribute('data-telegram-login', 'GGR00m_bot');  // твой бот
      s.setAttribute('data-size', 'large');
      s.setAttribute('data-userpic', 'false');              // без аватара
      s.setAttribute('data-request-access', 'write');
      wrap.appendChild(s);
    })();
  </script>
</body>
</html>
