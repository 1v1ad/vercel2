<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>GG ROOM</title>
  <meta name="color-scheme" content="dark light"/>

  <style>
    :root{
      --bg:#0b0f16;
      --card:#0e121a;
      --gold:#e8d08a;
      --gold-soft:#b89a51;
      --vk:#1e73e6;       /* VK-синий */
      --tg:#4ea6e6;       /* TG-синий */
      --text:#f4f4f4;

      /* Базовые габариты “большой” кнопки */
      --baseW: 520px;
      --baseH: 74px;
      --btn-scale: 1;
    }

    /* Сброс и база */
    *,*::before,*::after{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "SF Pro Display",
                   "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
      background: radial-gradient(1200px 700px at 50% -200px, #101624 0%, #0b1018 55%, #070b11 100%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      text-rendering: optimizeLegibility;
    }

    header{
      text-align:center;
      padding:18px 16px 6px;
      color:var(--gold);
      letter-spacing:.08em;
      font-weight:800;
      font-size:clamp(16px, 1.6vw, 18px);
    }

    .wrap{
      max-width: 820px;
      margin: 0 auto;
      padding: 28px 16px 64px;
    }

    .card{
      margin: 12px auto 36px;
      background: radial-gradient(120% 120% at 30% -40%, #171e2a 0%, #0f141d 55%, #0b0f16 100%);
      border:1px solid rgba(232,208,138,.28);
      border-radius: 18px;
      box-shadow:
        0 0 0 1px rgba(232,208,138,.08) inset,
        0 18px 70px rgba(0,0,0,.55),
        0 0 64px rgba(232,208,138,.06);
      padding: 28px 28px 32px;
    }

    h1{
      margin: 0 0 44px; /* в 2 раза больше прежнего */
      text-align:left;
      color:var(--gold);
      font-weight:900;
      font-size: clamp(22px, 3.4vw, 38px);
      line-height:1.15;
      letter-spacing:.02em;
      text-shadow: 0 2px 0 rgba(0,0,0,.14);
    }

    /* Колонка кнопок — выравниваем по левому краю */
    .btncol{
      display:flex;
      flex-direction:column;
      align-items:flex-start; /* влево */
      gap:14px;
      margin-bottom: 18px;
      max-width: min(100%, var(--baseW));
    }

    /* Общий размер/радиус для кастомных кнопок */
    .u-btn-size{
      width:  min(calc(var(--baseW) * var(--btn-scale)), 100%);
      height: calc(var(--baseH) * var(--btn-scale));
      border-radius: calc(var(--baseH) * var(--btn-scale) / 2);
    }

    /* VK — более тонкая кнопка (−30% по высоте) */
    .btn-vk{
      all:unset;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:16px;
      background: var(--vk);
      color:#fff;
      font-weight:800;
      font-size: clamp(16px, 1.25vw, 18px);
      padding: 0 22px 0 18px;
      height: calc(var(--baseH) * var(--btn-scale) * 0.70);
      border-radius: calc(var(--baseH) * var(--btn-scale) * 0.35);
      box-shadow:
        0 14px 36px rgba(30,115,230,.28),
        0 1px 0 rgba(255,255,255,.25) inset,
        0 -1px 0 rgba(0,0,0,.25) inset;
      transition: transform .06s ease, filter .2s ease, box-shadow .2s ease;
    }
    .btn-vk:hover{ filter:brightness(1.03); transform: translateY(-1px); }
    .btn-vk:active{ transform: translateY(0); filter:brightness(.98); }

    /* VK-иконка +50% (45×45) */
    .vk-ico{
      width:45px; height:45px; flex:0 0 45px;
      border-radius:12px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.14);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.18);
    }
    .vk-ico img{ width:26px; height:26px; display:block; }

    .btn-vk .label{ white-space:nowrap; }

    /* Telegram login widget */
    .tg-wrap{
      position:relative;
      width: min(calc(var(--baseW) * var(--btn-scale)), 100%);
      height: calc(var(--baseH) * var(--btn-scale));
      border-radius: calc(var(--baseH) * var(--btn-scale) / 2);
      overflow:hidden;           /* чтобы на мобильных ничего не торчало */
      background: var(--tg);
      box-shadow:
        0 14px 36px rgba(78,166,230,.25),
        0 1px 0 rgba(255,255,255,.25) inset,
        0 -1px 0 rgba(0,0,0,.25) inset;
    }
    /* сам iframe из виджета */
    .tg-wrap iframe{
      position: absolute;
      inset: 0;
      width:100%;
      height:100%;
      border:0;
      /* Без масштабирования: виджет large отлично вписывается,
         а overflow:hidden держит излишки в “рамке” */
    }

    /* Бейджи */
    .badges{
      display:flex;
      gap:12px;
      flex-wrap:nowrap;
      justify-content:center;
      margin: 10px 0 0; /* расстояние от TG-кнопки уменьшено ~на 30% */
      user-select:none;
    }
    .badge{
      border:1px solid rgba(232,208,138,.26);
      color: var(--gold);
      font-weight:600;
      font-size: clamp(12px, 1.25vw, 14px);
      padding: 10px 18px;
      border-radius: 28px;
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.14));
      box-shadow: 0 8px 26px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.06);
    }

    /* Блок с картинкой сундука */
    .poster{
      margin: 24px auto 0;
      max-width: 640px;
      border-radius: 14px;
      box-shadow:
        0 12px 90px rgba(0,0,0,.55),
        0 0 0 1px rgba(255,255,255,.04) inset;
      overflow:hidden;
    }
    .poster img{
      width:100%; height:auto; display:block;
    }

    /* Адаптив: для очень узких экранов слегка уменьшаем масштаб кнопок */
    @media (max-width: 420px){
      :root{ --btn-scale: .92; }
      .vk-ico{ width:42px; height:42px; }
      .vk-ico img{ width:24px; height:24px; }
      .btncol{ gap:12px; }
    }
  </style>
</head>
<body>
  <header>GG ROOM</header>

  <main class="wrap">
    <section class="card">
      <h1>Войдите и начните выигрывать!</h1>

      <div class="btncol">
        <!-- VK: кастомная кнопка, тоньше на 30%, иконка увеличена на 50% -->
        <button class="btn-vk u-btn-size" id="vkLoginBtn" type="button" aria-label="Войти через VK ID">
          <span class="vk-ico">
            <!-- положи файл vk-logo.svg рядом с index.html -->
            <img src="vk-logo.svg" alt="VK">
          </span>
          <span class="label">Войти через VK ID</span>
        </button>

        <!-- Telegram: родной виджет, обрезка по краям для мобильных -->
        <div class="tg-wrap u-btn-size" id="tgLoginWrap">
          <!-- Telegram встраивает сюда iframe через свой скрипт ниже -->
        </div>
      </div>

      <div class="badges">
        <div class="badge">Розыгрыши</div>
        <div class="badge">Гарантии призов</div>
        <div class="badge">Турниры 24/7</div>
      </div>

      <div class="poster" aria-hidden="true">
        <picture>
          <source
            type="image/webp"
            srcset="
              assets/prize-chest-500w.webp 500w,
              assets/prize-chest-700w.webp 700w,
              assets/prize-chest-900w.webp 900w"
            sizes="(max-width: 600px) 92vw, 600px" />
          <img
            src="assets/prize-chest-700w.png"
            srcset="
              assets/prize-chest-500w.png 500w,
              assets/prize-chest-700w.png 700w,
              assets/prize-chest-900w.png 900w"
            sizes="(max-width: 600px) 92vw, 600px"
            alt="Призовой сундук ₽1.000.000" loading="lazy" decoding="async" />
        </picture>
      </div>
    </section>
  </main>

  <script>
    // Настройки доменов. Если у тебя другой бэкенд — поправь BASE_API.
    const BASE_API = 'https://vercel2pr.onrender.com';

    // VK: показываем «холодный старт» как переход — в этой ссылке Render красиво
    // покажет “Service waking up…”, чтобы пользователь видел, что всё ок.
    document.getElementById('vkLoginBtn').addEventListener('click', () => {
      window.location.href = BASE_API + '/api/auth/vk/start';
    });

    // Telegram: встраиваем официальный login-виджет в нашу "рамку".
    (function mountTelegramWidget(){
      const wrap = document.getElementById('tgLoginWrap');
      const origin = encodeURIComponent(location.origin);
      const s = document.createElement('script');
      s.async = true;
      s.src = 'https://telegram.org/js/telegram-widget.js?22';

      // Атрибуты виджета:
      s.setAttribute('data-telegram-login', 'GGR00m_bot');  // имя твоего бота
      s.setAttribute('data-size', 'large');                 // крупная кнопка
      s.setAttribute('data-userpic', 'false');              // без аватара
      s.setAttribute('data-request-access', 'write');
      // Нам не нужен callback в виде редиректа, держим виджет на странице:
      // (если захочешь серверный callback — добавь data-auth-url)

      wrap.appendChild(s);
    })();
  </script>
</body>
</html>
