<!-- ... [HTML до скрипта без изменений] ... -->
<body>
  <div class="header">
    <div class="profile">
      <div class="profile-avatar"></div>
      <div class="profile-info">
        <div class="profile-name">Имя Фамилия</div>
        <div class="profile-balance">Баланс: <b>0 ₽</b></div>
      </div>
    </div>
    <div class="header-title">GGROOM</div>
  </div>
  <main class="lobby-main">
    <!-- ... твои карточки игр ... -->
  </main>
  <script>
    const API_URL = "https://vercel2pr.onrender.com/api";

    async function fetchProfile() {
      const token = localStorage.getItem('authToken');
      if (!token) {
        window.location = '/index.html';
        return;
      }
      const resp = await fetch(`${API_URL}/user/profile`, {
        headers: { 'Authorization': 'Bearer ' + token }
      });
      if (resp.ok) {
        const user = await resp.json();
        document.querySelector('.profile-name').textContent = `${user.firstName} ${user.lastName}`;
        document.querySelector('.profile-balance b').textContent = `${user.balance} ₽`;
        document.querySelector('.profile-avatar').style.backgroundImage = `url('${user.avatar}')`;
      } else {
        // Токен невалидный — редирект на авторизацию
        window.location = '/index.html';
      }
    }

    // Запускать сразу после загрузки страницы
    fetchProfile();
  </script>
</body>
</html>
