<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="api-base" content="https://vercel2pr.onrender.com">
  <title>GGRoom — Дуэль</title>
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32.png">
  <link rel="stylesheet" href="/css/ui-tokens.css">
  <link rel="stylesheet" href="/css/duel-card.css">
  <script defer src="/js/duel-card.js"></script>
</head>
<body>
  <header class="dc-topbar">
    <a class="dc-back" id="backLink" href="/lobby.html#archive" aria-label="Назад">
      <span class="dc-back-ic">←</span><span class="dc-back-txt">Назад</span>
    </a>

    <div class="dc-title">
      <div class="dc-title-h" id="dcTitle">Дуэль</div>
      <div class="dc-title-sub" id="dcSubtitle">Загружаю…</div>
    </div>

    <div class="dc-actions">
      <button class="ui-btn ui-btn-ghost" id="copyBtn" type="button">Скопировать ID</button>
    </div>
  </header>

  <main class="dc-wrap">
    <section class="dc-hero">
      <div class="dc-hero-left">
        <div class="dc-hero-id" id="dcId">#—</div>
        <div class="dc-hero-pills">
          <span class="dc-pill" id="dcStatusPill">…</span>
          <span class="dc-pill dc-pill-muted" id="dcStakePill">Ставка: —</span>
        </div>
      </div>
      <div class="dc-hero-right">
        <div class="dc-kpi">
          <div class="dc-k">Pot</div>
          <div class="dc-v" id="kpiPot">—</div>
        </div>
        <div class="dc-kpi">
          <div class="dc-k">Fee</div>
          <div class="dc-v" id="kpiFee">—</div>
        </div>
        <div class="dc-kpi">
          <div class="dc-k">Payout</div>
          <div class="dc-v" id="kpiPayout">—</div>
        </div>
      </div>
    </section>

    <section class="dc-grid">
      <article class="dc-card">
        <div class="dc-card-h">Участники</div>
        <div class="dc-players">
          <div class="dc-player" id="p1">
            <div class="dc-ava" id="p1Ava"></div>
            <div class="dc-player-meta">
              <div class="dc-player-name" id="p1Name">—</div>
              <div class="dc-player-tags" id="p1Tags"></div>
            </div>
          </div>

          <div class="dc-vs">VS</div>

          <div class="dc-player" id="p2">
            <div class="dc-ava" id="p2Ava"></div>
            <div class="dc-player-meta">
              <div class="dc-player-name" id="p2Name">—</div>
              <div class="dc-player-tags" id="p2Tags"></div>
            </div>
          </div>
        </div>
      </article>

      <article class="dc-card">
        <div class="dc-card-h">Финансы дуэли</div>
        <div class="dc-kv">
          <div class="dc-k">Ставка</div><div class="dc-v" id="finStake">—</div>
          <div class="dc-k">Pot</div><div class="dc-v" id="finPot">—</div>
          <div class="dc-k">Fee</div><div class="dc-v" id="finFee">—</div>
          <div class="dc-k">Payout</div><div class="dc-v" id="finPayout">—</div>
          <div class="dc-k">Профит победителя</div><div class="dc-v" id="finProfit">—</div>
        </div>
        <div class="dc-split" id="finSplit">
          <div class="dc-split-row"><span class="muted">Создатель</span><span class="mono" id="finCreator">—</span></div>
          <div class="dc-split-row"><span class="muted">Оппонент</span><span class="mono" id="finOpponent">—</span></div>
        </div>
      </article>


            <article class="dc-card">
        <div class="dc-card-h">Таймлайн дуэли</div>
        <div class="dc-kv">
          <div class="dc-k">Создано</div><div class="dc-v" id="tCreated">—</div>
          <div class="dc-k">Вход соперника</div><div class="dc-v" id="tJoined">—</div>
          <div class="dc-k">Coinflip</div><div class="dc-v" id="tCoinflip">—</div>
          <div class="dc-k">Выплата</div><div class="dc-v" id="tPayout">—</div>
        </div>
        <div class="dc-mini" id="tDur">—</div>
        <details class="dc-details dc-details-tight" id="tRawDetails">
          <summary>Служебно</summary>
          <div class="dc-kv">
            <div class="dc-k">updated_at</div><div class="dc-v mono" id="tUpdated">—</div>
            <div class="dc-k">finished_at</div><div class="dc-v mono" id="tFinished">—</div>
          </div>
        </details>
      </article>

            <article class="dc-card dc-card-wide">
        <div class="dc-card-h">Честность (PF)</div>

        <div class="dc-kv">
          <div class="dc-k">commit</div><div class="dc-v mono" id="pfCommit">—</div>
          <div class="dc-k">nonce</div><div class="dc-v mono" id="pfNonce">—</div>
          <div class="dc-k">client_seed</div><div class="dc-v mono" id="pfClientSeed">—</div>
        </div>

        <div class="dc-pf-bar">
          <button class="ui-btn ui-btn-primary" id="pfVerifyBtn" type="button">Проверить</button>
          <div class="dc-pf-res" id="pfResult">—</div>
        </div>

        <details class="dc-details" id="pfDetails">
          <summary>Показать детали</summary>
          <div class="dc-kv" id="pfKv"></div>
          <div class="dc-muted dc-tiny" id="pfNote"></div>
        </details>
      </article>
    </section>

    <section class="dc-foot muted">
      Если что-то выглядит странно — просто скопируй ID дуэли и скинь саппорту. Вселенная любит логи.
    </section>
  </main>
</body>
</html>
