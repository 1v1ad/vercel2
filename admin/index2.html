<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GGRoom ‚Äî Admin v2</title>

  <link rel="icon" type="image/svg+xml"
        href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="%231a73e8"/><stop offset="1" stop-color="%234ed1a9"/></linearGradient></defs><rect rx="12" width="64" height="64" fill="%23f5f7fa"/><path d="M14 44l8-24h6l8 24h-6l-1.6-5H21.6L20 44h-6z" fill="url(%23g)"/></svg>' />
  <link rel="stylesheet" href="/admin/admin2.css?v=20251224a" />
</head>

<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">GG</div>
        <div class="brand-text">
          <div class="brand-title">GGRoom</div>
          <div class="brand-sub">Admin v2</div>
        </div>
      </div>

      <nav class="nav">
        <a class="nav-item active" href="#summary" data-view="summary">
          <span class="nav-ico">‚ò∞</span><span>Summary</span>
        </a>
        <a class="nav-item" href="#finance" data-view="finance">
          <span class="nav-ico">‚ÇΩ</span><span>–§–∏–Ω–∞–Ω—Å—ã</span>
        </a>
        <a class="nav-item" href="#users" data-view="users">
          <span class="nav-ico">üë•</span><span>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
        </a>
        <a class="nav-item" href="#duels" data-view="duels">
          <span class="nav-ico">‚öîÔ∏è</span><span>–î—É—ç–ª–∏</span>
        </a>
        <a class="nav-item" href="#events" data-view="events">
          <span class="nav-ico">üßæ</span><span>–°–æ–±—ã—Ç–∏—è</span>
        </a>

        <div class="nav-sep"></div>

        <a class="nav-item" href="#topup" data-view="topup">
          <span class="nav-ico">‚ûï</span><span>–†—É—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</span>
        </a>
        <a class="nav-item" href="#unmerge" data-view="unmerge">
          <span class="nav-ico">üß©</span><span>–†–∞—Å–∫–ª–µ–π–∫–∞</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <a class="muted-link" href="/admin/index.html">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∞–¥–º–∏–Ω–∫–∞ ‚Üí</a>
        <div class="muted tiny">Style: Keenetic-ish</div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topbar-left">
          <div class="page-title" id="page-title">Summary</div>
          <label class="hum-switch" title="HUM-—Å–∫–ª–µ–π–∫–∞">
            <span class="hum-label">HUM-—Å–∫–ª–µ–π–∫–∞</span>
            <input id="admin-hum-flag" type="checkbox" />
            <span class="hum-track" aria-hidden="true">
              <span class="hum-state hum-on">ON</span>
              <span class="hum-state hum-off">OFF</span>
              <span class="hum-thumb"></span>
            </span>
            <span id="admin-hum-note" class="tiny muted"></span>
          </label>
        </div>

        <div class="topbar-right">
          <input id="api" class="input" placeholder="https://... (ADMIN_API)" />
          <input id="pwd" class="input" placeholder="ADMIN_PWD" type="password" />
          <button class="btn" id="save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button class="btn ghost" id="ping">–ü—Ä–æ–≤–µ—Ä–∫–∞</button>
        </div>
      </header>

      <div class="content">

        <section class="view active" id="view-summary">
          <div class="grid cards">
            <div class="card">
              <div class="card-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
              <div class="card-value" id="sum-users">‚Äî</div>
              <div class="card-sub muted tiny" id="sum-users-sub">raw / hum</div>
            </div>
            <div class="card">
              <div class="card-title">–°–æ–±—ã—Ç–∏—è</div>
              <div class="card-value" id="sum-events">‚Äî</div>
              <div class="card-sub muted tiny">–∑–∞ –ø–µ—Ä–∏–æ–¥</div>
            </div>
            <div class="card">
              <div class="card-title">–ó–∞–Ω–µ—Å–µ–Ω–æ –≤—Å–µ–≥–æ</div>
              <div class="card-value" id="sum-deposited">‚Äî</div>
              <div class="card-sub muted tiny" id="sum-deposited-sub">–¥–µ–ø–æ–∑–∏—Ç—ã / –≤—ã–≤–æ–¥—ã</div>
            </div>
            <div class="card">
              <div class="card-title">–ù–∞ –±–∞–ª–∞–Ω—Å–∞—Ö (–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ)</div>
              <div class="card-value" id="sum-liabilities">‚Äî</div>
              <div class="card-sub muted tiny">—Å—É–º–º–∞ user.balance</div>
            </div>
            <div class="card">
              <div class="card-title">–î—É—ç–ª–∏: –æ–±–æ—Ä–æ—Ç / —Ä–µ–π–∫</div>
              <div class="card-value" id="sum-turnover">‚Äî</div>
              <div class="card-sub muted tiny" id="sum-turnover-sub">‚Äî</div>
            </div>
            <div class="card">
              <div class="card-title">–°—Ç–∞—Ç—É—Å</div>
              <div class="kv">
                <div class="k">API</div><div class="v" id="stat-api">‚Äî</div>
                <div class="k">Admin</div><div class="v" id="stat-admin">‚Äî</div>
              </div>
            </div>
          </div>

          <div class="grid two">
            <div class="panel">
              <div class="panel-head">
                <div class="panel-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</div>
                <button class="btn ghost sm" id="refresh-events-mini">–û–±–Ω–æ–≤–∏—Ç—å</button>
              </div>
              <div class="table-wrap">
                <table class="table" id="mini-events">
                  <thead><tr><th>–í—Ä–µ–º—è</th><th>–¢–∏–ø</th><th>user</th><th class="right">amount</th></tr></thead>
                  <tbody><tr><td colspan="4" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr></tbody>
                </table>
              </div>
            </div>

            <div class="panel">
              <div class="panel-head">
                <div class="panel-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥—É—ç–ª–∏</div>
                <button class="btn ghost sm" id="refresh-duels-mini">–û–±–Ω–æ–≤–∏—Ç—å</button>
              </div>
              <div class="table-wrap">
                <table class="table" id="mini-duels">
                  <thead><tr><th>–í—Ä–µ–º—è</th><th>id</th><th>stake</th><th>status</th><th class="right">pot</th></tr></thead>
                  <tbody><tr><td colspan="5" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr></tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <section class="view" id="view-finance">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–§–∏–Ω–∞–Ω—Å—ã</div>
              <button class="btn sm" id="refresh-finance">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>

            <div class="grid cards small">
              <div class="card">
                <div class="card-title">Deposited</div>
                <div class="card-value" id="fin-deposited">‚Äî</div>
                <div class="card-sub muted tiny" id="fin-deposited-sub">withdrawn: ‚Äî</div>
              </div>
              <div class="card">
                <div class="card-title">Liabilities</div>
                <div class="card-value" id="fin-liabilities">‚Äî</div>
                <div class="card-sub muted tiny">Œ£ balances</div>
              </div>
              <div class="card">
                <div class="card-title">Turnover</div>
                <div class="card-value" id="fin-turnover">‚Äî</div>
                <div class="card-sub muted tiny" id="fin-turnover-sub">rake: ‚Äî</div>
              </div>
            </div>

            <div class="note muted tiny">
              –°–µ–π—á–∞—Å deposited —Å—á–∏—Ç–∞–µ–º –ø–æ —Å–æ–±—ã—Ç–∏—è–º (admin_topup / deposit). –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –ø–ª–∞—Ç—ë–∂–∫–∏ –∏ –≤—ã–≤–æ–¥—ã.
            </div>
          </div>
        </section>

        <section class="view" id="view-users">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
              <button class="btn sm" id="refresh-users">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            <div class="table-wrap">
              <table class="table" id="tbl-users">
                <thead><tr><th>id</th><th>vk</th><th>–∏–º—è</th><th class="right">balance</th><th>hum_id</th><th>created</th></tr></thead>
                <tbody><tr><td colspan="6" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr></tbody>
              </table>
            </div>
          </div>
        </section>

        <section class="view" id="view-duels">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–î—É—ç–ª–∏</div>
              <button class="btn sm" id="refresh-duels">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            <div class="note muted tiny">–ü–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –∏–∑ –±–∞–∑—ã. –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º —Ñ–∏–ª—å—Ç—Ä—ã –∏ ‚Äú–ø—Ä–æ–≤–∞–ª–∏–≤–∞–Ω–∏–µ‚Äù –≤ –¥—É—ç–ª—å.</div>
            <div class="table-wrap">
              <table class="table" id="tbl-duels">
                <thead><tr><th>id</th><th>mode</th><th class="right">stake</th><th>status</th><th class="right">fee_bps</th><th>creator</th><th>opponent</th><th>winner</th><th>finished</th></tr></thead>
                <tbody><tr><td colspan="9" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr></tbody>
              </table>
            </div>
          </div>
        </section>

        <section class="view" id="view-events">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–°–æ–±—ã—Ç–∏—è</div>
              <button class="btn sm" id="refresh-events">–û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            <div class="note muted tiny">–≠—Ç–æ ‚Äú—Å—ã—Ä–æ–π‚Äù –ª–æ–≥ ‚Äî –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø–ª–∞—Ç—ë–∂–µ–∫ –∏ —Å–ø–æ—Ä–Ω—ã—Ö –∫–µ–π—Å–æ–≤.</div>
            <div class="table-wrap">
              <table class="table" id="tbl-events">
                <thead><tr><th>–≤—Ä–µ–º—è</th><th>—Ç–∏–ø</th><th>user</th><th>hum</th><th class="right">amount</th><th>payload</th></tr></thead>
                <tbody><tr><td colspan="6" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr></tbody>
              </table>
            </div>
          </div>
        </section>

        <section class="view" id="view-topup">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–†—É—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</div>
            </div>

            <div class="form">
              <div class="row">
                <label>user_id</label>
                <input class="input" id="topup-user" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 97" />
              </div>
              <div class="row">
                <label>amount</label>
                <input class="input" id="topup-amount" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 1000" />
              </div>
              <div class="row">
                <label>comment</label>
                <input class="input" id="topup-comment" placeholder="–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ" />
              </div>
              <div class="row">
                <div></div>
                <button class="btn" id="topup-btn">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
              </div>

              <pre class="out" id="topup-out"></pre>
              <div class="note muted tiny">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: POST /api/admin/users/:id/topup</div>
            </div>
          </div>
        </section>

        <section class="view" id="view-unmerge">
          <div class="panel">
            <div class="panel-head">
              <div class="panel-title">–†–∞—Å–∫–ª–µ–π–∫–∞ (unmerge)</div>
            </div>

            <div class="form">
              <div class="row">
                <label>hum_id</label>
                <input class="input" id="unmerge-hum" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 1" />
              </div>
              <div class="row">
                <label>user_ids</label>
                <input class="input" id="unmerge-users" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä 97, 468" />
              </div>
              <div class="row">
                <label>reason</label>
                <input class="input" id="unmerge-reason" placeholder="–ø–æ—á–µ–º—É —Ä–∞—Å–∫–ª–µ–∏–≤–∞–µ–º" />
              </div>
              <div class="row">
                <div></div>
                <button class="btn danger" id="unmerge-btn">–†–∞—Å–∫–ª–µ–∏—Ç—å</button>
              </div>

              <pre class="out" id="unmerge-out"></pre>
              <div class="note muted tiny">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: POST /api/admin/unmerge</div>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <!-- auth shim / hum toggle -->
  <script src="/admin/admin-auth-headers.js?v=20251224a"></script>

  <script src="/admin/admin2.js?v=20251224a"></script>
</body>
</html>
